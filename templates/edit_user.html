<!DOCTYPE html>
<html>
<head>
    <title>Edit User</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>

<div class="container form-container">
    <div class="form-header">Edit User</div>

    <form method="POST" id="editUserForm" novalidate>

        <div class="form-group">
            <label>Full Name</label>
            <input type="text"
                   id="name"
                   name="name"
                   value="{{ user.name }}">
            <small></small>
        </div>

        <div class="form-group">
            <label>Contact Number</label>
            <input type="text"
                   id="contact"
                   name="contact"
                   value="{{ user.contact }}"
                   maxlength="10"
                   oninput="allowOnlyNumbers(this)"
                   onblur="checkDuplicate('contact', this.value, this, '{{ doc_id }}')">
            <small></small>
        </div>

        <div class="form-group">
            <label>Email</label>
            <input type="email"
                   id="email"
                   name="email"
                   value="{{ user.email }}"
                   data-original="{{ user.email }}"
                   oninput="checkEmailChange(this)"
                   onblur="checkDuplicate('email', this.value, this, '{{ doc_id }}')">
            <small></small>
        </div>

        <!-- Password appears ONLY if email changes -->
        <div id="password-section" style="display:none">

            <div class="form-group">
                <label>Password</label>
                <input type="password" id="password" placeholder="Enter Password">
                <span class="password-toggle"
                      onclick="togglePassword('password', this)">ğŸ‘</span>
                <small></small>
            </div>

            <div class="form-group">
                <label>Confirm Password</label>
                <input type="password" id="confirm_password" placeholder="Confirm Password">
                <span class="password-toggle"
                      onclick="togglePassword('confirm_password', this)">ğŸ‘</span>
                <small></small>
            </div>

        </div>

        <button class="btn btn-primary">Update</button>
        <a href="/" class="btn btn-danger">Back</a>

    </form>
</div>

<script src="/static/app.js"></script>
</body>
</html>
